
#!/usr/bin/env sh

yabai -m config layout stack
yabai -m config top_padding 5
yabai -m config bottom_padding 5
yabai -m config left_padding 5
yabai -m config right_padding 5
yabai -m config window_gap 5
yabai -m config external_bar all:38:0

yabai -m config mouse_follows_focus on
yabai -m config focus_follows_mouse off
yabai -m config window_placement second_child
yabai -m config window_topmost on
yabai -m config window_shadow on
yabai -m config window_opacity off
yabai -m config active_window_opacity 1.0
yabai -m config normal_window_opacity 0.90
yabai -m config window_border off
yabai -m config window_border_width 6
yabai -m config active_window_border_color 0xffff79c6
yabai -m config normal_window_border_color 0xff555555
yabai -m config insert_feedback_color 0xffd75f5f
yabai -m config split_ratio 0.50
yabai -m config auto_balance off
yabai -m config mouse_modifier ctrl
yabai -m config mouse_action1 move
yabai -m config mouse_action2 resize
yabai -m config mouse_drop_action swap

yabai -m rule --add title="^Android Emulator$" manage=off
yabai -m rule --add app="qemu-system-aarch64" manage=off
yabai -m rule --add app="Alacritty" manage=off
yabai -m rule --add title="Logi Options+" manage=off
yabai -m rule --add app="Logi Options+" manage=off
yabai -m rule --add app="Dion" manage=off
yabai -m rule --add app="Amazon Q" manage=off
yabai -m rule --add title="Amazon Q" manage=off
yabai -m rule --add app="Stats" manage=off
yabai -m rule --add title="Картинка в картинке" manage=off
yabai -m rule --add app="Kawa" manage=off
yabai -m rule --add app="Proxyman" manage=off
yabai -m rule --add app="Notion" manage=on
yabai -m rule --add app="Anki" manage=off
yabai -m rule --add app="Warp" manage=on
yabai -m rule --add app="Screen Cursor" manage=off
yabai -m rule --add app="SACTools" manage=off
yabai -m rule --add app="Transporter" manage=off
yabai -m rule --add app="TextEdit" manage=off
yabai -m rule --add app="CopyQ" manage=off
yabai -m rule --add app="Finder" manage=off
yabai -m rule --add app="Xcodes" manage=off
yabai -m rule --add title="Archives" manage=off
yabai -m rule --add app="Связка ключей" manage=off
yabai -m rule --add app="Keychain Access" manage=off
yabai -m rule --add app="SoundSource" manage=off
yabai -m rule --add app="LibreOffice" manage=on
yabai -m rule --add app="Combine PDFs" manage=off
yabai -m rule --add app="System Preferences" sticky=on layer=above manage=off
yabai -m rule --add app="MobileDeviceUpdater" manage=off
yabai -m rule --add app="Commander One" manage=off
yabai -m rule --add app="Steam Helper" manage=on
yabai -m rule --add app="Системные настройки" manage=off
yabai -m rule --add app="Google Chrome" manage=off
yabai -m rule --add app="Safari" manage=on
yabai -m rule --add app="^EndpointConnect$" manage=off sticky=on
yabai -m rule --add app="^Cisco AnyConnect Secure Mobility Client$" manage=off
yabai -m rule --add app="^Rectangle$" sticky=on layer=above manage=off
yabai -m rule --add app="Digital Color Meter" sticky=on manage=off
yabai -m rule --add app="Цифровой колориметр" sticky=on manage=off
yabai -m rule --add app="Calendar" manage=off
yabai -m rule --add app="Календарь" manage=off
yabai -m rule --add app="Калькулятор" manage=off
yabai -m rule --add app="Calculator" manage=off
yabai -m rule --add app="Терминал" manage=off
yabai -m rule --add app="Terminal" manage=off
yabai -m rule --add app="kitty" manage=on
yabai -m rule --add app="Karabiner-Element" manage=off
yabai -m rule --add app="Simulator" manage=off
yabai -m rule --add app="Alfred Preference" manage=off
yabai -m rule --add app="App Store" manage=off
yabai -m rule --add app="Информация о системе" manage=off
yabai -m rule --add app="Riot Client" manage=off
yabai -m rule --add app="League of Legends" manage=off
yabai -m rule --add app="Генератор отчетов об ошибках" manage=off
yabai -m rule --add app="OpenEmu" manage=off
yabai -m rule --add app="WhatsApp" manage=on
yabai -m rule --add app="Команды" manage=off
yabai -m rule --add app="Sourcetree" manage=off
yabai -m rule --add app="Sublime Merge" manage=off
yabai -m rule --add app="SF Symbols" manage=off
yabai -m rule --add app="Символы SF" manage=off
yabai -m rule --add app="Напоминания" manage=off
yabai -m rule --add app="Reminders" manage=off
yabai -m rule --add app="Просмотр" manage=off
yabai -m rule --add app="Discord" manage=off
yabai -m rule --add app="TunnelBear" manage=off
yabai -m rule --add app="Emacs" manage=on
yabai -m rule --apply

yabai -m signal --add event=space_changed \
  action="osascript -e 'tell application \"Finder\" to set visible of process \"Alacritty\" to false'"

echo "yabai configuration loaded.."
sketchybar --reload
borders